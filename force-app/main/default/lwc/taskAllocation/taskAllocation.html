<template>
	<lightning-card>
		<lightning-layout multiple-rows>
			<lightning-layout-item size="12" small-device-size="12" medium-device-size="3" large-device-size="3"
				padding="horizontal-small">
				<lightning-card>
					<div class="slds-m-around_x-small">
						<div class="slds-align_absolute-center">
<<<<<<< HEAD
=======
							<lightning-combobox name="project" value={fields.projectId} placeholder="Select project"
								options={optionsProject} onchange={handleFieldsChange}></lightning-combobox>
						</div>
						<div class="slds-align_absolute-center">
>>>>>>> nico
							<lightning-radio-group name="role" label="Role" options={optionsRole} value={fields.role} type="radio"
								onchange={handleFieldsChange}>
							</lightning-radio-group>
						</div>
						<template if:true ={fields.role}>
							<div class="slds-align_absolute-center">
								<lightning-combobox name="resource" value={fields.resourceId} placeholder="Select resource"
									options={optionsResources} onchange={handleFieldsChange}></lightning-combobox>
							</div>
						</template>
					</div>
				</lightning-card>

			</lightning-layout-item>
			<lightning-layout-item size="12" small-device-size="12" medium-device-size="9" large-device-size="9"
				padding="horizontal-small">
				<lightning-card>
					<div class="slds-m-around_xx-small">
						<lightning-layout multiple-rows>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="4" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-input name='summary' type="text" label="Summary" placeholder="Task summary"
										minlength="6" onchange={handleFieldsChange} required value={fields.summary}></lightning-input>
								</div>
							</lightning-layout-item>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="4" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-textarea name="description" label="" placeholder="task description"
										onchange={handleFieldsChange} required value={fields.description}></lightning-textarea>
								</div>
							</lightning-layout-item>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="4" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-combobox name="priority" value={fields.priority} placeholder="Priority"
									options={optionsPriority} onchange={handleFieldsChange} required></lightning-combobox>
								</div>
							</lightning-layout-item>
						</lightning-layout>

						<lightning-layout multiple-rows>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="6" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-input type="date" name="startDate" label="Start date" value={fields.startDate} onchange={handleFieldsChange} required></lightning-input>
								</div>
							</lightning-layout-item>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="6" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-input type="date" name="endDate" label="End date" value={fields.endDate} 
										 onchange={handleFieldsChange} required></lightning-input>
								</div>
							</lightning-layout-item>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="6" large-device-size="4"
								padding="horizontal-small">
								<div class="custom-box">
									<lightning-input type="number" name="nOfHours" label="Number of estimated hours" value={fields.nOfHours}
										onchange={handleFieldsChange}></lightning-input>
								</div>
							</lightning-layout-item>
						</lightning-layout>

						<lightning-layout multiple-rows>
							<lightning-layout-item size="12" small-device-size="12" medium-device-size="12" large-device-size="12"
								padding="horizontal-small">
								<div class="custom-box">

								</div>
							</lightning-layout-item>
						</lightning-layout>
					</div>

				</lightning-card>
			</lightning-layout-item>
		</lightning-layout>
		<br>
		<div class ="slds-align_absolute-center">
			<Template if:false={fields.resourceId}>
				<lightning-button variant="brand" label="Create task" title="Create Task" onclick={handleCreateTask} class="slds-m-left_x-small" disabled>
				</lightning-button>
				<lightning-button variant="destructive-text" label="Cancel" title="Cancel" onclick={handleCancelTask} class="slds-m-left_x-small">
				</lightning-button>
<<<<<<< HEAD
				<span if:false={showAvailability}><lightning-button variant="brand" label="Check Available Dates" title="Check Available Dates" onclick={handleCheckAvailableDates} class="slds-m-left_x-small">
				</lightning-button></span>
				<span if:true={showAvailability}><lightning-button variant="brand" label="Hide Available Dates" title="Check Available Dates" onclick={handleCheckAvailableDates} class="slds-m-left_x-small">
				</lightning-button></span>
			</Template>
			<Template if:true={fields.resourceId}>
=======
				</Template>
				<Template if:true={fields.resourceId}>
>>>>>>> nico
					<lightning-button variant="brand" label="Create task" title="Create Task" onclick={handleCreateTask} class="slds-m-left_x-small">
					</lightning-button>
					<lightning-button variant="destructive-text" label="Cancel" title="Cancel" onclick={handleCancelTask} class="slds-m-left_x-small">
					</lightning-button>
<<<<<<< HEAD
					<span if:false={showAvailability}><lightning-button variant="brand" label="Check Available Dates" title="Check Available Dates" onclick={handleCheckAvailableDates} class="slds-m-left_x-small">
					</lightning-button></span>
					<span if:true={showAvailability}><lightning-button variant="brand" label="Hide Available Dates" title="Check Available Dates" onclick={handleCheckAvailableDates} class="slds-m-left_x-small">
					</lightning-button></span>
			</Template>
		</div>
		<template if:true={showAvailability}>
			<br>
			<div style="display:flex;flex-wrap: wrap;justify-content:space-around;" class="slds-box slds-box_x-small">

					<template for:each={parsByUserIdMap} for:item="par">
						<span key={par.Start_Date__c}>			
							<div> <b>Start Date:</b> {par.Start_Date__c} &nbsp; <b>End Date:</b> {par.End_Date__c}</div>
						</span>
					</template>
			</div>
		</template>
=======
				</Template>
			
		</div>
	
>>>>>>> nico
	</lightning-card>
</template>